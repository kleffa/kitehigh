<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    #slider {
      width: 200px;
      height: 20px;
      background-color: #ccc;
      position: relative;
      cursor: grab;
    }

    #slider:before {
      content: "";
      width: 20px;
      height: 20px;
      background-color: #f00;
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      cursor: grabbing;
    }

    #value {
      font-size: 48px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div id="slider"></div>
  <div id="value">0</div>

  <script>
    let number = 0;
    let intervalId = null;

    function updateNumber(value) {
      number += value;
      document.getElementById("value").textContent = number;
    }

    let isDragging = false;
    let dragStartX = 0;

    const slider = document.getElementById("slider");

    slider.addEventListener("mousedown", startDrag);
    slider.addEventListener("mouseup", stopDrag);
    slider.addEventListener("mouseleave", stopDrag);
    slider.addEventListener("mousemove", drag);

    slider.addEventListener("touchstart", startDrag);
    slider.addEventListener("touchend", stopDrag);
    slider.addEventListener("touchcancel", stopDrag);
    slider.addEventListener("touchmove", drag);

    function startDrag(e) {
      isDragging = true;
      dragStartX = e.clientX || e.touches[0].clientX;
      intervalId = setInterval(updateNumberOnHold, 100); // Intervalo de actualización del número (cada 100ms)
    }

    function stopDrag() {
      isDragging = false;
      clearInterval(intervalId);
    }

    function drag(e) {
      e.preventDefault();
      if (isDragging) {
        const currentX = e.clientX || e.touches[0].clientX;
        const distance = currentX - dragStartX;
        const sensitivity = 5; // Ajusta la sensibilidad del slider

        if (distance > sensitivity) {
          updateNumber(1); // Suma 1 al número
          dragStartX = currentX;
        } else if (distance < -sensitivity) {
          updateNumber(-1); // Resta 1 al número
          dragStartX = currentX;
        }
      }
    }

    function updateNumberOnHold() {
      const sensitivity = 5; // Ajusta la sensibilidad del slider
      const increment = Math.round((Math.abs(dragStartX - (isDragging ? (e.clientX || e.touches[0].clientX) : dragStartX))) / sensitivity);
      const sign = Math.sign(dragStartX - (isDragging ? (e.clientX || e.touches[0].clientX) : dragStartX));

      if (increment > 0) {
        updateNumber(increment * sign); // Incrementa o decrementa el número según la dirección
      }
    }
  </script>
</body>
</html>
