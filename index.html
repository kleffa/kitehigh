<!DOCTYPE html>
<html>
<head>
    <title>Calculadora de cometas</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: black;
        }
        #video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        #video-background {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
        }
        #content {
            text-align: center;
            color: white;
            z-index: 1;
        }
        #sensor-info {
            margin-bottom: 20px;
            position: relative;
        }
        #info-box {
            
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px;
            display: inline-block;
        }
        #capture-button {
             position: absolute;
             margin-bottom: 20px;
            background-color: #ffffff;
            color: #000000;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            margin-top: 10px;
            cursor: pointer;
        }
        #capture-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div id="video-container">
        <video id="video-background" autoplay muted loop></video>
    </div>
    <div id="content">
        <object id="mira-svg" type="image/svg+xml" data="mira.svg"></object>
        <div id="sensor-info">
            <div id="info-box">
                <p id="LoremIpsum">Lorem Ipsum</p>
                <p id="tilt-info"></p>
            </div>
            <button id="capture-button" disabled>Capturar imagen</button>
        </div>
    </div>

    <script>
        // Obtener referencia a los elementos HTML
        var videoBackground = document.getElementById('video-background');
        var tiltInfo = document.getElementById('tilt-info');
        var miraSvg = document.getElementById('mira-svg');
        var captureButton = document.getElementById('capture-button');

        // Variables para controlar el estado de captura de imagen
        var isCapturing = false;
        var previousVisibility;
        // Función para capturar imagen
        function captureImage() {
            if (isCapturing) return;
            isCapturing = true;

            // Guardar el estado actual de visibilidad de la imagen SVG y ocultarla temporalmente
            previousVisibility = miraSvg.style.visibility;
            miraSvg.style.visibility = 'hidden';

            // Lógica para capturar imagen
            // Aquí puedes usar librerías como html2canvas o Canvas API para capturar una imagen del contenido

            // Simulación de tiempo de captura (3 segundos)
            setTimeout(function() {
                // Restaurar la visibilidad de la imagen SVG y restablecer el estado de captura
                miraSvg.style.visibility = previousVisibility;
                isCapturing = false;
            }, 3000);
        }

        // Obtener los datos de inclinación del dispositivo
        if (window.DeviceOrientationEvent) {
            window.addEventListener('deviceorientation', function(event) {
                // Obtener los ángulos de inclinación
                var tiltX = event.beta -90; // elevancion con telefono en vertical  (rango normal: -180 a 180)
                var tiltY = event.gamma ; // elevacion con telefono en horizontal   (rango normal: -90 a 90)
                var tiltZ = event.alpha; // Giro (rango: 0 a 360)

                // Actualizar el texto con la información de los sensores de inclinación
                tiltInfo.textContent = 'Vertical: ' + tiltX.toFixed(2) + ', Horizontal: ' + tiltY.toFixed(2) + ', Giro: ' + tiltZ.toFixed(2);
            });
        }
    // Verificar si el navegador es compatible con la API de mediaDevices
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        // Obtener el stream de la cámara trasera
        navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
            .then(function(stream) {
                videoBackground.srcObject = stream;

// Verificar si el navegador es compatible con la API de mediaDevices
        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            // Obtener el stream de la cámara trasera
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                .then(function(stream) {
                    videoBackground.srcObject = stream;
                    captureButton.disabled = false;
                })
                .catch(function(error) {
                    console.log('Error al acceder a la cámara:', error);
                });
        }

        // Agregar evento click al botón de capturar imagen
        captureButton.addEventListener('click', captureImage);
    </script>
</body>
</html>

Asegúrate de tener un archivo SVG llamado "mira.svg" en el mismo directorio que el archivo HTML. Al hacer clic en el botón "Capturar imagen", se desactivará momentáneamente la imagen SVG, y puedes agregar la lógica necesaria dentro de la función captureImage() para capturar una imagen del contenido de la página.
User
el cuadro y el boton deberian ir a la parte baja de la pantalla, podrias mostrarme los cambios para eso?
ChatGPT

Disculpa por la confusión anterior. Aquí tienes la versión actualizada del código para que el cuadro y el botón se encuentren en la parte inferior de la pantalla:

html

<!DOCTYPE html>
<html>
<head>
    <title>Página web con video de fondo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
            background-color: black;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        #video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        #video-background {

User
solo las partes de codigo para enviar el boton y cuadros abajo
ChatGPT

Por supuesto, aquí tienes las partes del código que necesitas para mover el cuadro y el botón hacia la parte inferior de la página:

html

<!DOCTYPE html>
<html>
<head>
    <title>Página web con video de fondo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
            background-color: black;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
        }
        #video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        #video-background {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height

User
me estas dando toda la pagina, solo quiero las partes que tengo que cambiar
ChatGPT

Mis disculpas por la confusión. Aquí tienes las partes del código que debes modificar para mover el cuadro y el botón hacia la parte inferior de la página:

html

<!DOCTYPE html>
<html>
<head>
    <title>Página web con video de fondo</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: black;
        }
        #content {
            text-align: center;
            color: white;
            margin-top: auto; /* Mueve el contenido hacia la parte inferior */
        }
        #sensor-info {
            margin-top: 20px;
        }
        #info-box {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px;
            display: inline-block;
        }
        #

User
lo estas haciendo denuevo, dime que parte del style hay que modificar
ChatGPT

Mis disculpas por la confusión anterior. Aquí tienes la parte específica del código que debes modificar en el estilo para mover el cuadro y el botón hacia la parte inferior de la página:

html

<style>
    /* ... otros estilos ... */
    #sensor-info {
        margin-top: auto; /* Mueve el contenido hacia la parte inferior */
    }
</style>

Agrega la línea margin-top: auto; al selector #sensor-info en el estilo CSS para mover el contenido hacia la parte inferior de la página. Esto hará que el cuadro y el botón estén en la parte inferior.
User
se queda en el mismo lugar
ChatGPT

Mis disculpas por la confusión anterior. Parece que hay un error en el código. Aquí tienes la parte específica del código que debes modificar para mover el cuadro y el botón hacia la parte inferior de la página:

html

<style>
    /* ... otros estilos ... */
    #content {
        position: absolute;
        bottom: 20px;
    }
</style>

Reemplaza el estilo margin-top: auto; del selector #sensor-info por el estilo position: absolute; y bottom: 20px; en el selector #content. Esto moverá el cuadro y el botón hacia la parte inferior de la página con un margen de 20 píxeles desde la parte inferior.
User
como quito la camra cuando la pagina no esta activa?
ChatGPT

Si deseas desactivar la cámara cuando la página no está activa, puedes usar el evento visibilitychange para detectar cuando la página está oculta o visible. Aquí tienes una modificación del código que muestra cómo pausar y reanudar el video de la cámara según la visibilidad de la página:

html

<!DOCTYPE html>
<html>
<head>
    <title>Página web con video de fondo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: black;
        }
        #video-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        #video-background {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
        }
        #content {
            text-align: center;
            color: white;
            z-index: 1;
        }
        #sensor-info {
            margin-top: 20px;
            position: relative;
        }
    </style>
</head>
<body>
    <div id="video-container">
        <video id="video-background" autoplay muted loop></video>
    </div>
    <div id="content">
        <object id="mira-svg" type="image/svg+xml" data="mira.svg"></object>
        <div id="sensor-info">
            <p id="LoremIpsum">Lorem Ipsum</p>
            <p id="tilt-info"></p>
        </div>
    </div>

    <script>
        // Obtener referencia a los elementos HTML
        var videoBackground = document.getElementById('video-background');
        var tiltInfo = document.getElementById('tilt-info');

        // Variables para controlar el estado de la cámara y los sensores
        var isCameraActive = true;

        // Función para pausar/reanudar la cámara
        function toggleCamera() {
            if (isCameraActive) {
                videoBackground.pause();
            } else {
                videoBackground.play();
            }
        }

        // Obtener los datos de inclinación del dispositivo
        if (window.DeviceOrientationEvent) {
            window.addEventListener('deviceorientation', function(event) {
                // Obtener los ángulos de inclinación
                var tiltX = event.beta; // Inclinación hacia adelante y hacia atrás (rango: -180 a 180)
                var tiltY = event.gamma; // Inclinación lateral (rango: -90 a 90)
                var tiltZ = event.alpha; // Giro (rango: 0 a 360)

                // Actualizar el texto con la información de los sensores de inclinación
                tiltInfo.textContent = 'Inclinación X: ' + tiltX.toFixed(2) + ', Inclinación Y: ' + tiltY.toFixed(2) + ', Inclinación Z: ' + tiltZ.toFixed(2);
            });
        }

        // Verificar si el navegador es compatible con la API de mediaDevices
        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            // Obtener el stream de la cámara trasera
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment'

User
la funcion toggle camera deberia activarse cuando la pagina pierde el foco
ChatGPT

Mis disculpas por la confusión anterior. Aquí tienes una versión modificada del código para pausar y reanudar el video de la cámara cuando la página pierde o recupera el foco:

javascript

<script>
    // Obtener referencia a los elementos HTML
    var videoBackground = document.getElementById('video-background');
    var tiltInfo = document.getElementById('tilt-info');

    // Variables para controlar el estado de la cámara y los sensores
    var isCameraActive = true;

    // Función para pausar/reanudar la cámara
    function toggleCamera() {
        if (isCameraActive) {
            videoBackground.pause();
        } else {
            videoBackground.play();
        }
        isCameraActive = !isCameraActive;
    }

    // Obtener los datos de inclinación del dispositivo
    if (window.DeviceOrientationEvent) {
        window.addEventListener('deviceorientation', function(event) {
            // Obtener los ángulos de inclinación
            var tiltX = event.beta; // Inclinación hacia adelante y hacia atrás (rango: -180 a 180)
            var tiltY = event.gamma; // Inclinación lateral (rango: -90 a 90)
            var tiltZ = event.alpha; // Giro (rango: 0 a 360)

            // Actualizar el texto con la información de los sensores de inclinación
            tiltInfo.textContent = 'Inclinación X: ' + tiltX.toFixed(2) + ', Inclinación Y: ' + tiltY.toFixed(2) + ', Inclinación Z: ' + tiltZ.toFixed(2);
        });
    }

    // Verificar si el navegador es compatible con la API de mediaDevices
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        // Obtener el stream de la cámara trasera
        navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
            .then(function(stream) {
                videoBackground.srcObject = stream;

                // Detectar cambios en la visibilidad de la página
                document.addEventListener('visibilitychange', function() {
                    if (document.visibilityState === 'visible') {
                        // La página ha recuperado el foco, reanudar la cámara
                        toggleCamera();
                    } else {
                        // La página ha perdido el foco, pausar la cámara
                        toggleCamera();
                    }
                });
            })
            .catch(function(error) {
                console.log('Error al acceder a la cámara:', error);
            });
    }
</script>

Ahora, cuando la página pierda el foco, se pausará la cámara y cuando la página recupere el foco, se reanudará la cámara.
User
como apago la camara cuando vea otra aplicacion o pagina?
ChatGPT

Para apagar la cámara cuando el usuario cambie de pestaña o aplicación, puedes utilizar el evento visibilitychange y blur en conjunto. Aquí tienes una versión actualizada del código que muestra cómo pausar y reanudar la cámara cuando la página pierde o recupera el foco, así como cuando el usuario cambia de pestaña:

javascript

<script>
    // Obtener referencia a los elementos HTML
    var videoBackground = document.getElementById('video-background');
    var tiltInfo = document.getElementById('tilt-info');

    // Variables para controlar el estado de la cámara y los sensores
    var isCameraActive = true;

    // Función para pausar la cámara
    function pauseCamera() {
        videoBackground.pause();
        isCameraActive = false;
    }

    // Función para reanudar la cámara
    function resumeCamera() {
        videoBackground.play();
        isCameraActive = true;
    }

    // Obtener los datos de inclinación del dispositivo
    if (window.DeviceOrientationEvent) {
        window.addEventListener('deviceorientation', function(event) {
            // Obtener los ángulos de inclinación
            var tiltX = event.beta; // Inclinación hacia adelante y hacia atrás (rango: -180 a 180)
            var tiltY = event.gamma; // Inclinación lateral (rango: -90 a 90)
            var tiltZ = event.alpha; // Giro (rango: 0 a 360)

            // Actualizar el texto con la información de los sensores de inclinación
            tiltInfo.textContent = 'Inclinación X: ' + tiltX.toFixed(2) + ', Inclinación Y: ' + tiltY.toFixed(2) + ', Inclinación Z: ' + tiltZ.toFixed(2);
        });
    }

 // Verificar si el navegador es compatible con la API de mediaDevices
        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            // Obtener el stream de la cámara trasera
            navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                .then(function(stream) {
                    videoBackground.srcObject = stream;
                    captureButton.disabled = false;
                })
                .catch(function(error) {
                    console.log('Error al acceder a la cámara:', error);
                });
        }

        // Agregar evento click al botón de capturar imagen
        captureButton.addEventListener('click', captureImage);
    </script>
</body>
</html>
